id: news_feed_importer
label: 'NDTV news feed'
source:
  plugin: url
  data_fetcher_plugin: http
  data_parser_plugin: xml
  urls:
    - 'http://feeds.feedburner.com/ndtvnews-top-stories.xml'
  item_selector: /rss/channel/item
  fields:
    -
      name: title
      label: title
      selector: title
    -
      name: guid
      label: guid
      selector: guid
    -
      name: link
      label: link
      selector: link
    -
      name: updatedAt
      label: updatedAt
      selector: updatedAt
    -
      name: pubDate
      label: pubDate
      selector: pubDate
  ids:
    guid:
      type: string
process:
  title: title
  field_news_guid: guid
  field_news_link: link
  changed:
    plugin: format_date
    from_format: 'F d, Y h:i A'
    to_format: U
    source: updatedAt
  created:
    plugin: format_date
    from_format: 'D, d M Y H:i:s O'
    to_format: U
    source: pubDate
  type:
    plugin: default_value
    default_value: news
destination:
  plugin: 'entity:node'
dependencies:
  module:
    - consume_feed_data
  enforced:
    module:
      - consume_feed_data
